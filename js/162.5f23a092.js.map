{"version":3,"file":"js/162.5f23a092.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACF,EAAII,GAAGJ,EAAIK,GAAGL,EAAIM,aAC/F,EACIC,EAAkB,G,4CCGtB,GACA,aAAAC,GACA,cAAAC,EAAA,KAAAC,EAAA,OAAAC,GAAA,KAAAC,iBACA,mBAAAF,EAAA,CACA,GAAAD,EASA,YANAI,OAAAC,SAAAC,KACA,mFACAN,EACA,WACAE,EACA,YAPA,KAAAL,UAAA,WAUA,2BAAAI,EACA,UACAM,EAAAA,EAAAA,IAAAP,GACA,KAAAQ,QAAAC,KAAA,CACAC,KAAA,gBACAC,MAAA,CAAAX,UAAAE,WAEA,OAAAU,GACA,KAAAf,UAAA,cACA,CAEA,EACAgB,IAAAA,GACA,OACAhB,UAAA,SAEA,EACAiB,QAAA,CACAX,cAAAA,GACA,MAAAY,EAAA,IAAAC,IAAAZ,OAAAC,SAAAC,MAEAW,EAAA,IAAAC,gBAAAH,EAAAI,QAEAC,EAAA,IAAAF,gBAAAH,EAAAM,KAAAC,MAAA,SAEAC,EAAA,IAAAL,gBACAD,EAAAO,SAAA,CAAAC,EAAAC,KACAH,EAAAI,OAAAD,EAAAD,EAAA,IAEAL,EAAAI,SAAA,CAAAC,EAAAC,KACAH,EAAAI,OAAAD,EAAAD,EAAA,IAGA,MAAAxB,EAAAsB,EAAAK,IAAA,QACA5B,EAAAuB,EAAAK,IAAA,WACA1B,EAAAqB,EAAAK,IAAA,UAEA,OAAA3B,OAAAD,UAAAE,SACA,IC1DmQ,I,UCQ/P2B,GAAY,OACd,EACAvC,EACAQ,GACA,EACA,KACA,KACA,MAIF,EAAe+B,EAAiB,O","sources":["webpack://my_project/./src/views/aboutuser/EmailOption.vue","webpack://my_project/src/views/aboutuser/EmailOption.vue","webpack://my_project/./src/views/aboutuser/EmailOption.vue?e34d","webpack://my_project/./src/views/aboutuser/EmailOption.vue?e8b1"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(_vm._s(_vm.showTitle))])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>{{ showTitle }}</div>\r\n</template>\r\n<script>\r\nimport { verifyResetCode } from '../../login/firebase'\r\nexport default {\r\n    async created() {\r\n        const { oobCode, mode, apiKey } = this.getQueryParams()\r\n        if (mode === 'verifyEmail') {\r\n            if (!oobCode) {\r\n                this.showTitle = '無效的信箱驗證連結'\r\n            } else {\r\n                window.location.href =\r\n                    'https://myproject-dd0cb.firebaseapp.com/__/auth/action?mode=verifyEmail&oobCode=' +\r\n                    oobCode +\r\n                    '&apiKey=' +\r\n                    apiKey +\r\n                    '&lang=en'\r\n                return\r\n            }\r\n        } else if (mode === 'resetPassword') {\r\n            try {\r\n                await verifyResetCode(oobCode)\r\n                this.$router.push({\r\n                    name: 'resetPassword',\r\n                    query: { oobCode, apiKey },\r\n                })\r\n            } catch (error) {\r\n                this.showTitle = '重置密碼連結無效或已過期'\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            showTitle: '請稍後...',\r\n        }\r\n    },\r\n    methods: {\r\n        getQueryParams() {\r\n            const url = new URL(window.location.href)\r\n\r\n            const searchParams = new URLSearchParams(url.search)\r\n\r\n            const hashParams = new URLSearchParams(url.hash.split('?')[1])\r\n\r\n            const params = new URLSearchParams()\r\n            searchParams.forEach((value, key) => {\r\n                params.append(key, value)\r\n            })\r\n            hashParams.forEach((value, key) => {\r\n                params.append(key, value)\r\n            })\r\n\r\n            const mode = params.get('mode')\r\n            const oobCode = params.get('oobCode')\r\n            const apiKey = params.get('apiKey')\r\n\r\n            return { mode, oobCode, apiKey }\r\n        },\r\n    },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\ndiv {\r\n    color: var(--color-content-text);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmailOption.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmailOption.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmailOption.vue?vue&type=template&id=08089e25\"\nimport script from \"./EmailOption.vue?vue&type=script&lang=js\"\nexport * from \"./EmailOption.vue?vue&type=script&lang=js\"\nimport style0 from \"./EmailOption.vue?vue&type=style&index=0&id=08089e25&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_v","_s","showTitle","staticRenderFns","created","oobCode","mode","apiKey","getQueryParams","window","location","href","verifyResetCode","$router","push","name","query","error","data","methods","url","URL","searchParams","URLSearchParams","search","hashParams","hash","split","params","forEach","value","key","append","get","component"],"sourceRoot":""}