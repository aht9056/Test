"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[80],{8080:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"navbar-container position-fixed w-100",attrs:{id:"navbarId"}},[t("nav",{staticClass:"navbar navbar-expand-lg p-0 w-100"},[t("div",{staticClass:"d-flex justify-content-between",class:{"w-100":e.isShowToggle},staticStyle:{height:"70px"}},[e._m(0),t("div",{staticClass:"d-flex align-items-center p-1"},[e.isShowToggle?[t("NavbarPopover",{attrs:{isShowToggle:!e.isShowToggle},on:{"update:selected-page":e.goToAboutUserPage}})]:e._e(),t("input",{directives:[{name:"show",rawName:"v-show",value:e.isShowToggle,expression:"isShowToggle"}],staticClass:"menu",attrs:{type:"checkbox",role:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:function(t){return e.toggleEvent()}}})],2)]),t("div",{staticClass:"collapse navbar-collapse",class:{" d-flex justify-content-center":!e.isShowToggle},style:{height:e.isShowToggle?"auto":"70px"},attrs:{id:"navbarSupportedContent"}},[t("ul",{staticClass:"navbar-nav h-100"},[t("li",{staticClass:"nav-item justify-content-center align-items-center"},[t("router-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/home"}},[e._v("首頁")])],1),t("li",{staticClass:"nav-item justify-content-center align-items-center"},[t("router-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/booklist"}},[e._v("中文")])],1),t("li",{staticClass:"nav-item justify-content-center align-items-center"},[t("router-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/vuex"}},[e._v("頁面3")])],1),e._m(1),t("li",{staticClass:"nav-item justify-content-center align-items-center"},[t("router-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/about"}},[e._v("關於")])],1),t("li",{staticClass:"nav-item justify-content-center align-items-center"},[t("router-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/about"}},[e._v("頁面5")])],1)])]),e.isShowToggle?e._e():[t("NavbarPopover",{attrs:{isShowToggle:!e.isShowToggle},on:{"update:selected-page":e.goToAboutUserPage}})]],2)])]),t("div",{ref:"routerViewRef",staticClass:"router position-relative d-flex justify-content-center align-items-start w-auto"},[t("router-view",{ref:"routerView"})],1)])},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"navbar-brand d-flex align-items-center p-1"},[t("span",[e._v("LOGO")])])},function(){var e=this,t=e._self._c;return t("li",{staticClass:"nav-item dropdown",staticStyle:{display:"block",margin:"0 auto"}},[t("a",{staticClass:"nav-link dropdown-icon",attrs:{href:"#"}},[e._v(" 頁面4 ")]),t("ul",{staticClass:"dropdown-menu"},[t("li",{staticClass:"dropdown-li"},[t("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Action")])]),t("li",{staticClass:"dropdown-li"},[t("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Another action")])]),t("li",{staticClass:"dropdown-li"},[t("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Something")])])])])}],r=(s(4114),function(){var e=this,t=e._self._c;return t("div",[t("el-popover",{attrs:{placement:"bottom",width:"auto",trigger:"click","popper-class":"popover-style"}},[t("div",{staticClass:"popover-content"},[null==e.user?t("div",[t("div",{staticClass:"popover-item d-flex align-items-center btn",on:{click:e.goLogin}},[t("i",{staticClass:"bi bi-box-arrow-in-right"}),e._v(" 登入 ")])]):t("div",[t("div",{staticClass:"popover-item",staticStyle:{cursor:"auto"}},[t("i",{staticClass:"bi bi-person-circle"}),e._v(" "+e._s(e.user.displayName)+" ")]),t("div",{staticClass:"popover-item d-flex align-items-center btn",on:{click:e.logout}},[t("i",{staticClass:"bi bi-box-arrow-in-left"}),e._v(" 登出 ")])]),t("div",{staticClass:"popover-item d-flex align-items-center btn"},[t("i",{staticClass:"bi bi-cart2"}),e._v(" 購物車 ")]),t("div",{staticClass:"popover-item d-flex align-items-center btn"},[t("i",{staticClass:"bi bi-calendar-check"}),e._v(" 我的訂單 ")]),t("div",{staticClass:"popover-item d-flex align-items-center btn"},[t("i",{staticClass:"bi bi-translate"}),e._v(" 語言 ")]),t("div",{staticClass:"popover-item d-flex align-items-center btn",on:{click:e.toggleTheme}},[t("i",{staticClass:"bi bi-moon"}),e._v(" 夜間模式 ")])]),t("button",{staticClass:"float-end me-1 btn",attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"h3 bi bi-gear-fill"})])])],1)}),n=[],o=s(100),c=s(8704),l={data(){return{}},computed:{user(){return this.$store.state.userInfo.user}},methods:{async logout(){try{this.$store.state.userInfo.user=null,this.$store.state.userInfo.userInfoData=null,this.$store.state.generalInfo.typeList={},c.A.remove("uid",{secure:!1,sameSite:"Strict"}),c.A.remove("checkPermission",{secure:!1,sameSite:"Strict"}),c.A.remove("accountInfo",{secure:!1,sameSite:"Strict"}),(0,o.signOut)(),this.$store.commit("SET_IS_LOGIN",!1),this.$router.push("/home")}catch(e){console.error("登出错误: ",e)}},toggleTheme(){var e=document.body;e.classList.contains("dark-theme")?e.classList.remove("dark-theme"):e.classList.add("dark-theme")},goLogin(){this.$emit("update:selected-page","login")}},beforeMount(){const e=c.A.get("accountInfo");void 0!==e&&(this.$store.state.userInfo.user=JSON.parse(e))}},u=l,v=s(1656),d=(0,v.A)(u,r,n,!1,null,"5e65bd7a",null),p=d.exports,g={components:{NavbarPopover:p},data(){return{navbarHeight:0,isShowToggle:!1,popoverVisible:!1}},mounted(){this.observeNavbarHeight(),window.addEventListener("resize",this.handleResize),this.handleResize()},beforeDestroy(){window.removeEventListener("resize",this.handleResize),this.unobserveNavbarHeight()},methods:{toggleEvent(){this.handleResize()},handleResize(){const e=window.innerWidth;this.isShowToggle=!(e>=992)},observeNavbarHeight(){const e=document.getElementById("navbarId"),t=this.$refs.routerView.$el.querySelector("#filterArea");this.resizeObserver=new ResizeObserver((e=>{for(let s of e)requestAnimationFrame((()=>{this.navbarHeight=s.contentRect.height,this.$refs.routerViewRef.style.top=this.navbarHeight+"px",t&&(t.style.top=this.navbarHeight+5+"px")}))})),this.resizeObserver.observe(e)},unobserveNavbarHeight(){this.resizeObserver&&this.resizeObserver.disconnect()},goToAboutUserPage(e){this.$router.push(e)}}},h=g,b=(0,v.A)(h,i,a,!1,null,"1e2a0a90",null),f=b.exports},8704:function(e,t,s){
/*! js-cookie v3.0.5 | MIT */
function i(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)e[i]=s[i]}return e}s.d(t,{A:function(){return n}});var a={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function r(e,t){function s(s,a,r){if("undefined"!==typeof document){r=i({},t,r),"number"===typeof r.expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var o in r)r[o]&&(n+="; "+o,!0!==r[o]&&(n+="="+r[o].split(";")[0]));return document.cookie=s+"="+e.write(a,s)+n}}function a(t){if("undefined"!==typeof document&&(!arguments.length||t)){for(var s=document.cookie?document.cookie.split("; "):[],i={},a=0;a<s.length;a++){var r=s[a].split("="),n=r.slice(1).join("=");try{var o=decodeURIComponent(r[0]);if(i[o]=e.read(n,o),t===o)break}catch(c){}}return t?i[t]:i}}return Object.create({set:s,get:a,remove:function(e,t){s(e,"",i({},t,{expires:-1}))},withAttributes:function(e){return r(this.converter,i({},this.attributes,e))},withConverter:function(e){return r(i({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var n=r(a,{path:"/"})}}]);
//# sourceMappingURL=80.c31f2185.js.map