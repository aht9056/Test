"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[208],{1208:function(a,t,e){e.r(t),e.d(t,{default:function(){return u}});var s=function(){var a=this,t=a._self._c;return t("div",{staticClass:"container"},[a._m(0),t("div",[t("div",[t("el-button",{attrs:{plain:""},on:{click:function(t){a.registDialogVisible=!0}}},[a._v("註冊帳號")]),t("el-dialog",{staticStyle:{"min-width":"250px"},attrs:{title:"註冊帳號",visible:a.registDialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"30%"},on:{"update:visible":function(t){a.registDialogVisible=t},close:function(t){a.initTempData(),a.getshowTableData()}}},[t("form",{staticClass:"row g-3 needs-validation",attrs:{novalidate:""}},[t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom01"}},[a._v("使用者名稱")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.userName,expression:"newData.userName"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.userName,"is-valid":""==a.validationErrors.userName&&a.newData.userName},attrs:{type:"text",id:"validationCustom01",required:""},domProps:{value:a.newData.userName},on:{input:[function(t){t.target.composing||a.$set(a.newData,"userName",t.target.value)},function(t){a.validationErrors.userName=a.isValid("userName",a.newData.userName)}]}}),t("div",{staticClass:"valid-feedback"},[a._v("OK!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.userName)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom02"}},[a._v("E-mail")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.email,expression:"newData.email"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.email,"is-valid":""==a.validationErrors.email&&a.newData.email},attrs:{type:"text",id:"validationCustom02",required:""},domProps:{value:a.newData.email},on:{input:[function(t){t.target.composing||a.$set(a.newData,"email",t.target.value)},function(t){a.validationErrors.email=a.isValid("email",a.newData.email)}]}}),t("div",{staticClass:"valid-feedback"},[a._v("OK!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.email)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom03"}},[a._v("帳號")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.account,expression:"newData.account"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.account,"is-valid":""==a.validationErrors.account&&a.newData.account},attrs:{type:"text",id:"validationCustom03",required:""},domProps:{value:a.newData.account},on:{input:[function(t){t.target.composing||a.$set(a.newData,"account",t.target.value)},function(t){a.validationErrors.account=a.isValid("account",a.newData.account)}]}}),t("div",{staticClass:"valid-feedback"},[a._v("OK!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.account)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom04"}},[a._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.password,expression:"newData.password"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.password,"is-valid":""==a.validationErrors.password&&a.newData.password},attrs:{type:"password",id:"validationCustom04",required:""},domProps:{value:a.newData.password},on:{input:[function(t){t.target.composing||a.$set(a.newData,"password",t.target.value)},function(t){a.validationErrors.password=a.isValid("password",a.newData.password)}]}}),t("div",{staticClass:"valid-feedback"},[a._v("OK!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.password)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom04"}},[a._v("密碼確認")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.checkedPasswordValue,expression:"checkedPasswordValue"}],staticClass:"form-control",class:{"is-invalid":!a.checkedPassword&&""!=a.newData.password,"is-valid":a.checkedPassword&&""!=a.newData.password},attrs:{type:"password",id:"validationCustom04",required:""},domProps:{value:a.checkedPasswordValue},on:{input:function(t){t.target.composing||(a.checkedPasswordValue=t.target.value)}}}),t("div",{staticClass:"valid-feedback"},[a._v("OK!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" 兩次輸入的密碼不同 ")])])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){a.registDialogVisible=!1}}},[a._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.validateRegistForms()}}},[a._v("送出")])],1)]),t("el-input",{staticStyle:{float:"right",width:"200px"},attrs:{size:"mini",placeholder:"輸入關鍵字搜尋"},on:{input:function(t){return a.getSearchData()}},model:{value:a.searchContent,callback:function(t){a.searchContent=t},expression:"searchContent"}}),t("el-popover",{staticStyle:{float:"right"},attrs:{placement:"top",width:"160"}},[t("el-checkbox",{attrs:{indeterminate:a.isIndeterminate},on:{change:a.handleCheckAllKeysChange},model:{value:a.checkAllKeys,callback:function(t){a.checkAllKeys=t},expression:"checkAllKeys"}},[a._v("全選")]),t("div",{staticStyle:{margin:"15px 0"}}),t("el-checkbox-group",{on:{change:a.handleCheckedKeysChange},model:{value:a.checkedKeys,callback:function(t){a.checkedKeys=t},expression:"checkedKeys"}},a._l(a.dataKeys,(function(e){return t("el-checkbox",{key:e,attrs:{label:e}},[a._v(a._s(a.dataKeysShowText[e]))])})),1),t("el-button",{staticStyle:{"margin-right":"5px"},attrs:{slot:"reference",size:"mini"},slot:"reference"},[a._v("選擇搜尋項目")])],1)],1),t("div",[t("el-table",{staticStyle:{width:"100%","margin-top":"4px"},attrs:{data:a.filteredData,"empty-text":"暫無數據",stripe:!0}},[t("el-table-column",{attrs:{type:"index",label:"NO",width:"50"}}),t("el-table-column",{attrs:{prop:"userName",label:a.dataKeysShowText.userName,width:"180"}}),t("el-table-column",{attrs:{prop:"email",label:a.dataKeysShowText.email}}),t("el-table-column",{attrs:{prop:"account",label:a.dataKeysShowText.account}}),t("el-table-column",{attrs:{prop:"password",label:a.dataKeysShowText.password}},[a._v(" ********* ")]),t("el-table-column",{attrs:{prop:"createDate",label:a.dataKeysShowText.createDate,width:"180"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("i",{staticClass:"el-icon-time"}),t("span",{staticStyle:{"margin-left":"10px"}},[a._v(a._s(e.row.createDate))])]}}])}),t("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("button",{staticStyle:{border:"none","background-color":"transparent"},on:{click:function(t){return a.handleEdit(e.row)}}},[t("i",{staticClass:"fas fa-edit fa-lg edit-btn",staticStyle:{transform:"scale(1.2)"},attrs:{color:"#077e34",title:"編輯"}})]),t("button",{staticStyle:{border:"none","background-color":"transparent"},on:{click:function(t){return a.handleDelete(e.row)}}},[t("i",{staticClass:"fas fa-trash fa-lg remove-btn",staticStyle:{transform:"scale(1.2)"},attrs:{color:"#b33e1b",title:"刪除"}})])]}}])})],1),t("el-dialog",{attrs:{title:"修改帳號資訊",visible:a.editDialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"30%"},on:{"update:visible":function(t){a.editDialogVisible=t},close:function(t){a.initTempData(),a.getshowTableData()}}},[t("form",{staticClass:"row g-3 needs-validation",attrs:{novalidate:""}},[t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom01"}},[a._v("使用者名稱")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.userName,expression:"newData.userName"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.userName,"is-valid":""==a.validationErrors.userName&&a.newData.userName},attrs:{type:"text",id:"validationCustom01",required:""},domProps:{value:a.newData.userName},on:{input:[function(t){t.target.composing||a.$set(a.newData,"userName",t.target.value)},function(t){a.validationErrors.userName=a.editIsValid("userName",a.newData.userName)}]}}),a.newData.userName==a.originEditData.userName?t("div",{staticClass:"valid-feedback"}):t("div",{staticClass:"valid-feedback"},[a._v("已修改!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.userName)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom02"}},[a._v("E-mail")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.email,expression:"newData.email"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.email,"is-valid":""==a.validationErrors.email&&a.newData.email},attrs:{type:"text",id:"validationCustom02",required:""},domProps:{value:a.newData.email},on:{input:[function(t){t.target.composing||a.$set(a.newData,"email",t.target.value)},function(t){a.validationErrors.email=a.editIsValid("email",a.newData.email)}]}}),a.newData.email==a.originEditData.email?t("div",{staticClass:"valid-feedback"}):t("div",{staticClass:"valid-feedback"},[a._v("已修改!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.email)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom03"}},[a._v("帳號")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.account,expression:"newData.account"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.account,"is-valid":""==a.validationErrors.account&&a.newData.account},attrs:{type:"text",id:"validationCustom03",required:""},domProps:{value:a.newData.account},on:{input:[function(t){t.target.composing||a.$set(a.newData,"account",t.target.value)},function(t){a.validationErrors.account=a.editIsValid("account",a.newData.account)}]}}),a.newData.account==a.originEditData.account?t("div",{staticClass:"valid-feedback"}):t("div",{staticClass:"valid-feedback"},[a._v("已修改!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.account)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom04"}},[a._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.newData.password,expression:"newData.password"}],staticClass:"form-control",class:{"is-invalid":""==!a.validationErrors.password,"is-valid":""==a.validationErrors.password&&a.newData.password},attrs:{type:"password",id:"validationCustom04",required:""},domProps:{value:a.newData.password},on:{input:[function(t){t.target.composing||a.$set(a.newData,"password",t.target.value)},function(t){a.validationErrors.password=a.editIsValid("password",a.newData.password)}]}}),a.newData.password==a.originEditData.password?t("div",{staticClass:"valid-feedback"}):t("div",{staticClass:"valid-feedback"},[a._v("已修改!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" "+a._s(a.validationErrors.password)+" ")])]),t("div",{staticClass:"col-md-12"},[t("label",{staticClass:"form-label",attrs:{for:"validationCustom04"}},[a._v("密碼確認")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.checkedPasswordValue,expression:"checkedPasswordValue"}],staticClass:"form-control",class:{"is-invalid":!a.checkedPassword&&""!=a.newData.password,"is-valid":a.checkedPassword&&""!=a.newData.password},attrs:{type:"password",id:"validationCustom04",required:""},domProps:{value:a.checkedPasswordValue},on:{input:function(t){t.target.composing||(a.checkedPasswordValue=t.target.value)}}}),t("div",{staticClass:"valid-feedback"},[a._v("OK!")]),t("div",{staticClass:"invalid-feedback"},[a._v(" 兩次輸入的密碼不同 ")])])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){a.editDialogVisible=!1}}},[a._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.validateEditForms()}}},[a._v("送出")])],1)])],1),t("div",{staticStyle:{"margin-top":"10px"}},[t("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"prev, pager, next",total:a.totalPage},on:{"current-change":a.handlePageChange}})],1)])])},i=[function(){var a=this,t=a._self._c;return t("div",{staticClass:"title-container"},[t("h1",{staticClass:"measurementFormTitle"},[a._v("會員管理系統")])])}],o=(e(4114),e(4874)),r=e.n(o),l={data(){return{visible:!1,originTableData:[{createDate:"2024-05-01",userName:"人名1",email:"1@gmail.com",account:"account01",password:"password"},{createDate:"2024-05-02",userName:"人名2",email:"2@gmail.com",account:"account02",password:"password"},{createDate:"2024-05-03",userName:"人名3",email:"3@gmail.com",account:"account03",password:"password"},{createDate:"2024-05-04",userName:"人名4",email:"4@gmail.com",account:"account04",password:"password"},{createDate:"2024-05-05",userName:"人名5",email:"5@gmail.com",account:"account05",password:"password"},{createDate:"2024-05-06",userName:"人名6",email:"6@gmail.com",account:"account06",password:"password"},{createDate:"2024-05-07",userName:"人名7",email:"7@gmail.com",account:"account07",password:"password"},{createDate:"2024-05-08",userName:"人名8",email:"8@gmail.com",account:"account08",password:"password"},{createDate:"2024-05-09",userName:"人名9",email:"9@gmail.com",account:"account09",password:"password"},{createDate:"2024-05-10",userName:"人名10",email:"10@gmail.com",account:"account10",password:"password"},{createDate:"2024-05-11",userName:"人名11",email:"11@gmail.com",account:"account11",password:"password"},{createDate:"2024-05-12",userName:"人名12",email:"12@gmail.com",account:"account12",password:"password"}],showTableData:[],dataKeysShowText:{createDate:"創建日期",userName:"使用者名稱",email:"電子信箱",account:"帳號",password:"密碼"},newData:{createDate:"",userName:"",email:"",account:"",password:""},validationErrors:{userName:"",email:"",account:"",password:""},checkedPasswordValue:"",checkAllKeys:!1,checkedKeys:[],dataKeys:[],isIndeterminate:!0,searchContent:"",registDialogVisible:!1,editDialogVisible:!1,originEditData:{},nowPage:1,pageSize:10,totalPage:10}},mounted(){this.getshowTableData(),this.getDatakeys()},computed:{checkedPassword(){return this.newData.password==this.checkedPasswordValue},filteredData(){let a=(this.nowPage-1)*this.pageSize,t=a+this.pageSize;return this.showTableData.slice(a,t)}},methods:{getshowTableData(){this.showTableData=JSON.parse(JSON.stringify(this.originTableData)),this.getTotalPage(),this.searchContent=""},getTotalPage(){this.totalPage=10*Math.ceil(this.showTableData.length/this.pageSize),this.nowPage=1},initTempData(){this.newData={createDate:"",userName:"",email:"",account:"",password:""},this.validationErrors={userName:"",email:"",account:"",password:""},this.checkedPasswordValue="",this.originEditData={}},getDatakeys(){this.dataKeys=Object.keys(this.dataKeysShowText).filter((a=>"password"!==a)),this.checkedKeys=this.dataKeys,this.isIndeterminate=!1,this.checkAllKeys=!0},handleCheckAllKeysChange(a){this.checkedKeys=a?this.dataKeys:[],this.isIndeterminate=!1},handleCheckedKeysChange(a){let t=a.length;this.checkAllKeys=t===this.dataKeys.length,this.isIndeterminate=t>0&&t<this.dataKeys.length},getSearchData(){""!=this.searchContent&&this.checkedKeys.length>0?(this.showTableData=this.originTableData.filter((a=>this.checkedKeys.some((t=>String(a[t]).toLowerCase().includes(this.searchContent.toLowerCase()))))),this.getTotalPage()):(this.showTableData=JSON.parse(JSON.stringify(this.originTableData)),this.getTotalPage())},validateRegistForms(){const a=Object.keys(this.validationErrors);let t=!0;for(let e=0;e<a.length;e++)this.validationErrors[a[e]]=this.isValid(a[e],this.newData[a[e]]),""!=this.validationErrors[a[e]]&&(t=!1);this.newData.password!=this.checkedPasswordValue&&(t=!1),t&&(this.registDialogVisible=!1,this.newData.createDate=this.getCurrentDateFormatted(),this.originTableData.push(this.newData),r().fire({title:"註冊成功",icon:"success",confirmButtonText:"確定",allowOutsideClick:!1}))},isValid(a,t){if("email"==a){if(""==t)return"請填入您的電子信箱";const a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(a.test(t)){for(let a=0;a<this.originTableData.length;a++)if(t===this.originTableData[a].email)return"該信箱已被註冊過";return""}return"電子信箱格式錯誤"}if("userName"==a)return""==t?"請填入您的使用者名稱":"";if("account"==a){if(""==t)return"請填入您的帳號";const a=/^[a-zA-Z0-9]+$/;if(!a.test(t))return"帳號只能包含英文與數字";for(let e=0;e<this.originTableData.length;e++)if(t===this.originTableData[e].account)return"該帳號已被使用";return""}return"password"==a?""==t?"請填入您的密碼":t.length<=5?"密碼長度需大於5":"":""},getCurrentDateFormatted(){const a=new Date,t=a.getFullYear(),e=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0");return`${t}-${e}-${s}`},handleEdit(a){r().fire({title:"進入修改畫面",html:'<span style="color:red;font-size: 16px;font-weight: bold;">※:請輸入密碼進入修改畫面</span>',input:"password",icon:"warning",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消",allowOutsideClick:!1,inputValidator:t=>t?t!==a.password?"密碼錯誤":void 0:"請輸入密碼"}).then((t=>{t.isConfirmed&&(this.editDialogVisible=!0,this.originEditData=a,this.newData=JSON.parse(JSON.stringify(this.originEditData)))}))},editIsValid(a,t){if("email"==a){if(""==t)return"請填入您的電子信箱";const a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(a.test(t)){for(let a=0;a<this.originTableData.length;a++)if(t===this.originTableData[a].email&&t!==this.originEditData.email)return"該信箱已被註冊過";return""}return"電子信箱格式錯誤"}if("userName"==a)return""==t?"請填入您的使用者名稱":"";if("account"==a){if(""==t)return"請填入您的帳號";const a=/^[a-zA-Z0-9]+$/;if(!a.test(t))return"帳號只能包含英文與數字";for(let e=0;e<this.originTableData.length;e++)if(t===this.originTableData[e].account&&t!==this.originEditData.account)return"該帳號已被使用";return""}return"password"==a?""==t?"請填入您的密碼":t.length<=5?"密碼長度需大於5":"":""},validateEditForms(){const a=Object.keys(this.validationErrors);let t=!0;for(let e=0;e<a.length;e++)this.validationErrors[a[e]]=this.editIsValid(a[e],this.newData[a[e]]),""!=this.validationErrors[a[e]]&&(t=!1);this.newData.password!=this.checkedPasswordValue&&(t=!1),t&&r().fire({title:"是否儲存修改內容?",html:'<span style="color:green;font-size: 16px;font-weight: bold;">修改內容驗證合格</span>',icon:"warning",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消",allowOutsideClick:!1,didOpen:()=>{document.querySelector(".swal2-container").style.zIndex="9999"}}).then((a=>{a.isConfirmed&&r().fire({title:"修改成功",icon:"success",confirmButtonText:"確定",allowOutsideClick:!1,didOpen:()=>{document.querySelector(".swal2-container").style.zIndex="9999"}}).then((a=>{this.changeEditData(),this.editDialogVisible=!1}))}))},changeEditData(){const a=this.originTableData.findIndex((a=>a.account===this.originEditData.account));-1!==a&&this.$set(this.originTableData,a,this.newData)},handleDelete(a){r().fire({title:`你確定要刪除 ${a.account} 嗎？`,html:'<span style="color:red;font-size: 16px;font-weight: bold;">※:請輸入密碼進行刪除作業</span>',input:"password",icon:"warning",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消",allowOutsideClick:!1,inputValidator:t=>t?t!==a.password?"密碼錯誤":void 0:"請輸入密碼"}).then((t=>{if(t.isConfirmed){console.log(a.account);for(let t=0;t<this.originTableData.length;t++)if(this.originTableData[t].account===a.account){this.originTableData.splice(t,1);break}this.getshowTableData(),r().fire({icon:"success",title:"刪除成功",text:`${a.account} 已被刪除`,confirmButtonText:"確定"})}}))},handlePageChange(a){this.nowPage=a}},beforeDestroy(){console.log("aaaa")}},n=l,c=e(1656),d=(0,c.A)(n,s,i,!1,null,"40122d4d",null),u=d.exports}}]);
//# sourceMappingURL=208.24c18e0c.js.map